{% extends "base.html" %}
{% load static %}

{% block sidenav %}
    {% for item in item_list %}
        <li>
            <a href="{{ item.link }}">{{item.item}} </a>
        </li>
    {% endfor %}
{% endblock sidenav %}

{% block content %}
<h1 align="center">Display Page</h1>
<table border="2" width="600">
    <tr>
        <th>
            Name
        </th>
        <th>
            Picture
        </th>
        <th>
            Comments
        </th>
    </tr>
    {% for book in books %}
     <tr>
        <td>
            <a href="book_detail/{{ book.id }}">
                {{ book.name }}
            </a>
        </td>
        <td>
            <img src="{% static book.pic_path %}" height="50"/>
        </td>
         <td>
             {% if not book.comments.all %}
                <p>No Comments Added Yet</p>
             {% else %}
                {% for comment in book.comments.all %}
                    <h3><strong>{{comment.commenter_name}}</strong></h3>
                    <p>{{comment.commenter_body}}</p>
                    <p><small>{{comment.date_added}}</small></p>
                {% endfor %}
             {% endif %}
             <p><a class="btn btn-primary" href="{% url 'add-comment' book.id %}">Add Comment</a></p>
         </td>
     </tr>
    {% endfor %}
</table>
{% endblock content %}